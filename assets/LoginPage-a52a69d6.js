import{p as w,I as R,d as ue,m as z,a as re,b as ie,g as F,u as I,c as M,e as m,f as ce,o as de,h as me,t as V,i as D,j as r,R as ve,s as L,r as p,k as H,l as _,w as fe,n as be,F as Ve,V as ye,q as ge,v as K,x as Ce,y as U,z as ke,A as Se,B as he,C as xe,D as Q,E as Ie,G as _e,H as N,J as X,K as we,L as Pe,M as Be,N as Y,O as Ae,P as A,Q as pe,S as $,T as b,U as Fe,W as O,X as j,Y as De,Z as Ue,_ as $e,$ as Re}from"./index-61b51ec3.js";import{e as Me,r as q,_ as Te,m as Ee,V as Ge}from"./VForm-82eaf2f4.js";const Le={en:"Authorization",ru:"Авторизация"},Ne={en:"Password",ru:"Пароль"},Oe={en:"Login",ru:"Войти"},je={en:"Sign up",ru:"Создать аккаунт"},qe={en:"Remember me",ru:"Запомнить меня"},Je={en:"Invalid email or password",ru:"Неверный email или пароль"},S={title:Le,password:Ne,login:Oe,sign_up:je,rememeber_me:qe,invalid_data:Je};const Z=Symbol.for("vuetify:selection-control-group"),ee=w({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:R,trueIcon:R,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:ue},...z(),...re(),...ie()},"SelectionControlGroup"),We=w({...ee({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");F()({name:"VSelectionControlGroup",props:We(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:i}=o;const l=I(e,"modelValue"),a=M(),c=m(()=>e.id||`v-selection-control-group-${a}`),v=m(()=>e.name||c.value),t=new Set;return ce(Z,{modelValue:l,forceUpdate:()=>{t.forEach(u=>u())},onForceUpdate:u=>{t.add(u),de(()=>{t.delete(u)})}}),me({[e.defaultsTarget]:{color:V(e,"color"),disabled:V(e,"disabled"),density:V(e,"density"),error:V(e,"error"),inline:V(e,"inline"),modelValue:l,multiple:m(()=>!!e.multiple||e.multiple==null&&Array.isArray(l.value)),name:v,falseIcon:V(e,"falseIcon"),trueIcon:V(e,"trueIcon"),readonly:V(e,"readonly"),ripple:V(e,"ripple"),type:V(e,"type"),valueComparator:V(e,"valueComparator")}}),D(()=>{var u;return r("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(u=i.default)==null?void 0:u.call(i)])}),{}}});const le=w({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...z(),...ee()},"VSelectionControl");function ze(e){const o=K(Z,void 0),{densityClasses:i}=Ce(e),l=I(e,"modelValue"),a=m(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),c=m(()=>e.falseValue!==void 0?e.falseValue:!1),v=m(()=>!!e.multiple||e.multiple==null&&Array.isArray(l.value)),t=m({get(){const s=o?o.modelValue.value:l.value;return v.value?U(s).some(f=>e.valueComparator(f,a.value)):e.valueComparator(s,a.value)},set(s){if(e.readonly)return;const f=s?a.value:c.value;let g=f;v.value&&(g=s?[...U(l.value),f]:U(l.value).filter(k=>!e.valueComparator(k,a.value))),o?o.modelValue.value=g:l.value=g}}),{textColorClasses:u,textColorStyles:y}=ke(m(()=>{if(!(e.error||e.disabled))return t.value?e.color:e.baseColor})),{backgroundColorClasses:C,backgroundColorStyles:d}=Se(m(()=>t.value&&!e.error&&!e.disabled?e.color:void 0)),n=m(()=>t.value?e.trueIcon:e.falseIcon);return{group:o,densityClasses:i,trueValue:a,falseValue:c,model:t,textColorClasses:u,textColorStyles:y,backgroundColorClasses:C,backgroundColorStyles:d,icon:n}}const J=F()({name:"VSelectionControl",directives:{Ripple:ve},inheritAttrs:!1,props:le(),emits:{"update:modelValue":e=>!0},setup(e,o){let{attrs:i,slots:l}=o;const{group:a,densityClasses:c,icon:v,model:t,textColorClasses:u,textColorStyles:y,backgroundColorClasses:C,backgroundColorStyles:d,trueValue:n}=ze(e),s=M(),f=m(()=>e.id||`input-${s}`),g=L(!1),k=L(!1),h=p();a==null||a.onForceUpdate(()=>{h.value&&(h.value.checked=t.value)});function P(x){g.value=!0,he(x.target,":focus-visible")!==!1&&(k.value=!0)}function B(){g.value=!1,k.value=!1}function te(x){e.readonly&&a&&xe(()=>a.forceUpdate()),t.value=x.target.checked}return D(()=>{var E,G;const x=l.label?l.label({label:e.label,props:{for:f.value}}):e.label,[oe,ne]=H(i),T=r("input",_({ref:h,checked:t.value,disabled:!!(e.readonly||e.disabled),id:f.value,onBlur:B,onFocus:P,onInput:te,"aria-disabled":!!(e.readonly||e.disabled),type:e.type,value:n.value,name:e.name,"aria-checked":e.type==="checkbox"?t.value:void 0},ne),null);return r("div",_({class:["v-selection-control",{"v-selection-control--dirty":t.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":k.value,"v-selection-control--inline":e.inline},c.value,e.class]},oe,{style:e.style}),[r("div",{class:["v-selection-control__wrapper",u.value],style:y.value},[(E=l.default)==null?void 0:E.call(l,{backgroundColorClasses:C,backgroundColorStyles:d}),fe(r("div",{class:["v-selection-control__input"]},[((G=l.input)==null?void 0:G.call(l,{model:t,textColorClasses:u,textColorStyles:y,backgroundColorClasses:C,backgroundColorStyles:d,inputNode:T,icon:v.value,props:{onFocus:P,onBlur:B,id:f.value}}))??r(Ve,null,[v.value&&r(ye,{key:"icon",icon:v.value},null),T])]),[[be("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),x&&r(ge,{for:f.value,clickable:!0,onClick:se=>se.stopPropagation()},{default:()=>[x]})])}),{isFocused:g,input:h}}}),ae=w({indeterminate:Boolean,indeterminateIcon:{type:R,default:"$checkboxIndeterminate"},...le({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),W=F()({name:"VCheckboxBtn",props:ae(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,o){let{slots:i}=o;const l=I(e,"indeterminate"),a=I(e,"modelValue");function c(u){l.value&&(l.value=!1)}const v=m(()=>l.value?e.indeterminateIcon:e.falseIcon),t=m(()=>l.value?e.indeterminateIcon:e.trueIcon);return D(()=>{const u=Q(J.filterProps(e),["modelValue"]);return r(J,_(u,{modelValue:a.value,"onUpdate:modelValue":[y=>a.value=y,c],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:v.value,trueIcon:t.value,"aria-checked":l.value?"mixed":void 0}),i)}),{}}}),He=w({...Ie(),...Q(ae(),["inline"])},"VCheckbox"),Ke=F()({name:"VCheckbox",inheritAttrs:!1,props:He(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,o){let{attrs:i,slots:l}=o;const a=I(e,"modelValue"),{isFocused:c,focus:v,blur:t}=_e(e),u=M(),y=m(()=>e.id||`checkbox-${u}`);return D(()=>{const[C,d]=H(i),n=N.filterProps(e),s=W.filterProps(e);return r(N,_({class:["v-checkbox",e.class]},C,n,{modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,id:y.value,focused:c.value,style:e.style}),{...l,default:f=>{let{id:g,messagesId:k,isDisabled:h,isReadonly:P}=f;return r(W,_(s,{id:g.value,"aria-describedby":k.value,disabled:h.value,readonly:P.value},d,{modelValue:a.value,"onUpdate:modelValue":B=>a.value=B,onFocus:v,onBlur:t}),l)}})}),{}}}),Qe={class:"text-h4 text-center mb-4"},Xe=X({__name:"LoginFormModule",setup(e){const o=we({email:"",password:"",isRememberMe:!0}),i=p(null),l=K("fbAuth"),a=p(!1),c=p(!1),v=Pe(),t=m(()=>v.lang),u=async()=>{if(!i.value)return;const{valid:d}=await i.value.validate();if(d&&!c.value){const{email:n,password:s}=o;a.value=!0,$e(l,n,s).then(()=>{y(),i.value.reset()}).catch(()=>c.value=!0).finally(()=>a.value=!1)}},y=()=>{const{email:d,password:n,isRememberMe:s}=o;s?localStorage.setItem("userData",JSON.stringify({email:d,password:n})):localStorage.removeItem("userData")},C=()=>{const d=JSON.parse(localStorage.getItem("userData")||"null");if(d){const{email:n,password:s}=d;o.email=n,o.password=s}};return Be(()=>{C()}),(d,n)=>(Y(),Ae(Ue,{style:{width:"375px"}},{default:A(()=>[r(Ge,{class:"pa-6",onSubmit:De(u,["prevent"]),ref_key:"formEl",ref:i,disabled:a.value},{default:A(()=>[pe("p",Qe,$(b(S).title[t.value]),1),r(Fe,{modelValue:o.email,"onUpdate:modelValue":[n[0]||(n[0]=s=>o.email=s),n[1]||(n[1]=()=>c.value=!1)],variant:"outlined",label:"Email",rules:[b(Me),b(q)],"error-messages":c.value?[b(S).invalid_data[t.value]]:[]},null,8,["modelValue","rules","error-messages"]),r(Te,{class:"mt-2",variant:"outlined",modelValue:o.password,"onUpdate:modelValue":[n[2]||(n[2]=s=>o.password=s),n[3]||(n[3]=()=>c.value=!1)],label:b(S).password[t.value],rules:[b(q),s=>b(Ee)(s,6)],"error-messages":c.value?[b(S).invalid_data[t.value]]:[]},null,8,["modelValue","label","rules","error-messages"]),r(Ke,{class:"mb-2",modelValue:o.isRememberMe,"onUpdate:modelValue":n[4]||(n[4]=s=>o.isRememberMe=s),"hide-details":"",density:"compact",color:"primary",label:b(S).rememeber_me[t.value]},null,8,["modelValue","label"]),r(O,{color:"primary",block:"",type:"submit",loading:a.value},{default:A(()=>[j($(b(S).login[t.value]),1)]),_:1},8,["loading"]),r(O,{class:"text-lowercase",variant:"text",block:"",disabled:a.value,onClick:n[5]||(n[5]=()=>d.$router.push("/registration"))},{default:A(()=>[j($(b(S).sign_up[t.value]),1)]),_:1},8,["disabled"])]),_:1},8,["onSubmit","disabled"])]),_:1}))}}),Ye={class:"d-flex justify-center align-center h-100"},ll=X({__name:"LoginPage",setup(e){return(o,i)=>(Y(),Re("div",Ye,[r(b(Xe))]))}});export{ll as default};
